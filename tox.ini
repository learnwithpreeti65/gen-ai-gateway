[tox]
envlist = py38, py39, py310, py311, lint, mypy
isolated_build = true

[testenv]
deps = 
    pytest>=7.0.0
    pytest-asyncio>=0.21.0
    httpx>=0.24.0
commands = 
    pytest {posargs:gen_ai_gateway/tests}

[testenv:lint]
deps = 
    black>=23.0.0
    isort>=5.12.0
    flake8>=6.0.0
commands = 
    black --check gen_ai_gateway ppt_wrapper
    isort --check-only gen_ai_gateway ppt_wrapper
    flake8 gen_ai_gateway ppt_wrapper

[testenv:mypy]
deps = 
    mypy>=1.0.0
    types-requests
commands = 
    mypy gen_ai_gateway ppt_wrapper

[testenv:format]
deps = 
    black>=23.0.0
    isort>=5.12.0
commands = 
    black gen_ai_gateway ppt_wrapper
    isort gen_ai_gateway ppt_wrapper

[testenv:dev]
deps = 
    fastapi>=0.100.0
    uvicorn[standard]>=0.23.0
    pydantic>=2.0.0
    python-multipart>=0.0.6
commands = 
    uvicorn gen_ai_gateway.apps.main:app --reload --host 0.0.0.0 --port 8000

[flake8]
max-line-length = 88
extend-ignore = E203, W503
exclude = 
    .git,
    __pycache__,
    .tox,
    .eggs,
    *.egg,
    build,
    dist,
    .venv
